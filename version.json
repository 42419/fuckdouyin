{
  "version": "1.3.3",
  "build_date": "2025-11-18T00:00:00Z",
  "changelog": [
    "=== 移动端与暗色模式优化 ===",
    "• 移除手机暗色模式hero-content背景泛光动画，改用静态柔和阴影防止边缘闪烁",
    "• 调整移动端result-section与result-container居中策略：使用margin:auto与max-width确保内容水平居中",
    "=== 更新弹窗与版本刷新机制 ===",
    "• 新增forceFullRefresh逻辑：清理Cache Storage并使用cache:'reload'强制验证静态资源",
    "• 更新弹窗渲染支持Markdown语法，自动将=== 标题 ===转换为### 标题",
    "• 统一弹窗关闭动画行为，桌面与移动端统一380ms时长",
    "• 移除旧CSS版本号比较，改为版本差异触发整页刷新",
    "• 弹窗结构调整：移除footer，使用floating-close按钮",
    "=== 其他样式与响应式细化 ===",
    "• 新增多档移动端宽度优化（<=768px、<=480px、<=425px、<=320px）精细控制间距与字号",
    "• 优化超小屏统计项与下载链接的布局与可读性"
  ],
  "history": [
    {
      "version": "1.3.3",
      "build_date": "2025-11-18T00:00:00Z",
      "changelog": [
        "=== 移动端与暗色模式优化 ===",
        "• 移除手机暗色模式hero-content背景泛光动画，改用静态柔和阴影防止边缘闪烁",
        "• 调整移动端result-section与result-container居中策略：使用margin:auto与max-width确保内容水平居中",
        "=== 更新弹窗与版本刷新机制 ===",
        "• 新增forceFullRefresh逻辑：清理Cache Storage并使用cache:'reload'强制验证静态资源",
        "• 更新弹窗渲染支持Markdown语法，自动将=== 标题 ===转换为### 标题",
        "• 统一弹窗关闭动画行为，桌面与移动端统一380ms时长",
        "• 移除旧CSS版本号比较，改为版本差异触发整页刷新",
        "• 弹窗结构调整：移除footer，使用floating-close按钮",
        "=== 其他样式与响应式细化 ===",
        "• 新增多档移动端宽度优化（<=768px、<=480px、<=425px、<=320px）精细控制间距与字号",
        "• 优化超小屏统计项与下载链接的布局与可读性"
      ]
    },
    {
      "version": "1.3.2",
      "build_date": "2025-11-16T00:00:00Z",
      "changelog": [
        "=== 优化改进 ===",
        "• 优化更新内容弹窗显示效果，增强视觉层次和可读性",
        "• 最新版本使用主题色边框和渐变背景，添加'✨ 最新版本'标签高亮显示",
        "• 历史版本使用灰色边框和透明背景，支持悬停高亮交互",
        "• 增加各版本之间的间距（24px），每个版本独立容器包裹",
        "• 优化更新项样式：增加内边距（12px 16px）、边框宽度（4px）和阴影效果",
        "• 更新项间距增加至14px，标题间距优化为24px/16px，整体更加分明",
        "• 弹窗标题、版本号、更新内容标题统一使用var(--text-color)，正确跟随明暗模式切换",
        "• 适配移动端显示，优化触摸体验和视觉效果",
        "",
        "=== 代码优化 ===",
        "• 重构version-update.js的showUpdateModal()函数，为每个版本创建独立容器",
        "• 新增CSS类：.version-container、.latest-version、.history-version",
        "• 新增版本容器样式：边框、背景渐变、阴影、标签定位",
        "• 优化弹窗标题颜色规范，遵循主题色变量使用标准"
      ]
    },
    {
      "version": "1.3.1",
      "build_date": "2025-11-16T00:00:00Z",
      "changelog": [
        "=== 重大重构 ===",
        "• 完成前端CSS模块化重构，将单一styles.css拆分为8个功能模块",
        "• 优化代码结构，提升可读性和可维护性",
        "",
        "=== CSS模块化架构 ===",
        "• variables.css - CSS变量定义模块（颜色、间距、圆角、过渡动画等全局变量）",
        "• global.css - 全局基础样式模块（reset、body、加载状态、滚动条美化）",
        "• header.css - 头部和导航栏样式模块（Logo、明暗切换按钮、汉堡菜单）",
        "• hero.css - 主页英雄区域样式模块（标题、输入框、下载按钮、特性展示）",
        "• result.css - 结果展示区域样式模块（视频信息、作者信息、下载选项）",
        "• modal.css - 弹窗和通知样式模块（更新提示、通知消息、更新日志美化）",
        "• responsive.css - 响应式样式模块（所有媒体查询和移动端适配）",
        "• bilibili.css - 哔哩哔哩页面专属样式模块（信息网格、清晰度选择器）",
        "",
        "=== 代码优化 ===",
        "• 单文件代码从92.4KB拆分为8个模块，总大小约74.8KB",
        "• 实现样式功能分离，每个模块职责清晰，单文件平均250行",
        "• 优化CSS加载顺序，确保依赖关系正确（变量→全局→功能→响应式）",
        "• 支持按需加载模块，提升页面加载性能",
        "",
        "=== UI优化 ===",
        "• 优化输入框和按钮的宽度比例，提升视觉协调性",
        "• 调整输入组整体宽度为900px，优化布局居中效果",
        "• 增加按钮内边距（padding: 20px 56px）和最小宽度（140px）",
        "• 添加flex-shrink: 0防止按钮被压缩，确保可点击区域合理"
      ]
    },
    {
      "version": "1.3.0",
      "build_date": "2025-11-16T00:00:00Z",
      "changelog": [
        "=== 重大重构 ===",
        "• 完成前端JavaScript模块化重构，将单一script.js拆分为11个功能模块",
        "• 优化代码结构，提升可读性和可维护性",
        "",
        "=== 模块化架构 ===",
        "• utils.js - 工具函数模块（数字格式化、文件大小格式化、版本比较）",
        "• browser-detector.js - 浏览器检测模块（抖音浏览器识别、提示显示）",
        "• theme-manager.js - 主题管理模块（明暗主题切换、自动/手动模式）",
        "• rate-limiter.js - 频率限制模块（请求限制、提示显示）",
        "• redirect-handler.js - 短链接重定向处理模块（视频ID提取、重定向处理）",
        "• download-handler.js - 视频下载处理模块（Workers下载、本地下载、备用方案）",
        "• api-handler.js - API请求处理模块（数据获取、加载状态管理）",
        "• download-options.js - 下载选项生成模块（解析视频链接、生成下载HTML）",
        "• video-display.js - 视频数据显示模块（视频信息展示、HTML渲染）",
        "• version-update.js - 版本更新检测模块（更新检查、弹窗显示）",
        "• main.js - 主入口模块（页面初始化、事件绑定）",
        "",
        "=== 代码优化 ===",
        "• 单文件代码从2739行拆分为11个模块，单文件平均250行",
        "• 实现功能分离，每个模块职责清晰",
        "• 优化加载顺序，确保依赖关系正确",
        "",
        "=== 删除内容 ===",
        "• 移除smart-redirect.js和frontend-redirect.js（根据项目规范）",
        "• 清理冗余代码，提升系统性能"
      ]
    },
    {
      "version": "1.2.5",
      "build_date": "2025-10-07T00:00:00Z",
      "changelog": [
        "=== 新增功能 ===",
        "• 新增解析频率限制功能，每分钟限制3次视频解析请求，避免后端API被风控"
      ]
    },
    {
      "version": "1.2.4",
      "build_date": "2025-10-02T00:00:00Z",
      "changelog": [
        "=== 问题修复 ===",
        "• 修复本地测试环境下重定向处理逻辑，优先使用Express.js服务器提高测试效率",
        "• 修复Cloudflare Functions重定向API的URL解析问题，增强错误处理机制",
        "• 优化重定向处理流程，增加URL有效性验证和异常处理",
        "",
        "=== 优化改进 ===",
        "• 改进本地与云端环境的重定向处理策略，实现智能切换",
        "• 增强系统稳定性，提升错误日志记录详细程度"
      ]
    },
    {
      "version": "1.2.4",
      "build_date": "2025-10-02T00:00:00Z",
      "changelog": [
        "=== 问题修复 ===",
        "• 修复本地测试环境下重定向处理逻辑，优先使用Express.js服务器提高测试效率",
        "• 修复Cloudflare Functions重定向API的URL解析问题，增强错误处理机制",
        "• 优化重定向处理流程，增加URL有效性验证和异常处理",
        "",
        "=== 优化改进 ===",
        "• 改进本地与云端环境的重定向处理策略，实现智能切换",
        "• 增强系统稳定性，提升错误日志记录详细程度"
      ]
    },
    {
      "version": "1.2.3",
      "build_date": "2025-10-02T00:00:00Z",
      "changelog": [
        "=== 优化改进 ===",
        "• 优化信息展示框显示效果：精简video-stats统计项，去除文字标签，只保留图标和数值",
        "• 改进统计数据视觉呈现，提升界面简洁性和可读性"
      ]
    },
    {
      "version": "1.2.2",
      "build_date": "2025-09-28T00:00:00Z",
      "changelog": [
        "=== 优化改进 ===",
        "• 优化明暗模式提醒框关闭动画，添加平滑的滑出效果",
        "• 新增手机端手动上滑关闭提醒框功能",
        "• 改进触摸事件处理，防止提醒框滑动时网页跟随滚动",
        "• 修复Cloudflare Pages部署后触摸滑动功能失效问题"
      ]
    },
    {
      "version": "1.2.1",
      "build_date": "2025-09-27T00:00:00Z",
      "changelog": [
        "=== 新增功能 ===",
        "• 新增作者简介区域，明确标注'简介：'前缀",
        "",
        "=== 优化改进 ===",
        "• 优化粉丝和获赞统计项样式：删除框状设计，改为简洁文本形式",
        "• 粉丝和获赞统计项移至作者名字下方，添加明确的标记说明",
        "• 优化移动端响应式设计，确保在各种屏幕尺寸下正常显示",
        "• 优化大于768px设备上粉丝和获赞统计框样式：玻璃态背景、减少模糊和阴影",
        "• 调整统计项尺寸和间距：内边距12px 8px、字体大小20px/12px、图标14px",
        "• 改进交互效果：悬停动画减弱、顶部装饰条变窄",
        "• 优化视觉层次：透明度控制、柔和边框，与整体风格统一",
        "• 保持主题切换功能，确保颜色跟随明暗模式变化",
        "• 优化更新内容框显示：在版本号后添加更新时间信息",
        "",
        "=== 问题修复 ===",
        "• 修复粉丝和获赞数字颜色跟随明暗模式切换的问题"
      ]
    },
    {
      "version": "1.2.0",
      "build_date": "2025-09-26T00:00:00Z",
      "changelog": [
        "=== 新增功能 ===",
        "• 新增更新内容框专用样式变量",
        "",
        "=== 优化改进 ===",
        "• 视觉风格更新：从现代紫蓝色系改为奶油色系",
        "• 优化暗色模式色彩搭配，改进视觉效果",
        "• 改进CSS变量，提升主题一致性",
        "• 改进响应式设计和用户体验"
      ]
    },
    {
      "version": "1.1.5",
      "build_date": "2025-09-26T00:00:00Z",
      "changelog": [
        "=== 新增功能 ===",
        "• 新增抖音浏览器检测功能，自动识别抖音内置浏览器，优化移动设备用户体验"
      ]
    },
    {
      "version": "1.1.4",
      "build_date": "2025-09-26T00:00:00Z",
      "changelog": [
        "=== 问题修复 ===",
        "• 修复.result-container在移动设备上的居中问题",
        "",
        "=== 优化改进 ===",
        "• 优化响应式布局，确保视频信息框在各种屏幕尺寸下正确显示",
        "• 改进CSS样式，增强布局稳定性和用户体验"
      ]
    },
    {
      "version": "1.1.3",
      "build_date": "2025-09-26T00:00:00Z",
      "changelog": [
        "=== 新增功能 ===",
        "• 新增banner栏毛玻璃效果，提升视觉层次感",
        "",
        "=== 优化改进 ===",
        "• 优化banner栏毛玻璃效果和手机端按钮大小",
        "• 减小手机端汉堡导航和明暗切换按钮尺寸",
        "• 改进响应式设计，优化移动设备用户体验"
      ]
    },
    {
      "version": "1.1.2",
      "build_date": "2025-09-26T00:00:00Z",
      "changelog": [
        "=== 新增功能 ===",
        "• 新增智能主题切换功能，支持自动跟随系统主题",
        "• 新增主题切换状态提示和操作指引",
        "",
        "=== 优化改进 ===",
        "• 优化移动设备触摸交互，支持点击和长按操作",
        "• 默认启用自动模式，所有设备统一体验",
        "• 改进跨设备兼容性和用户体验",
        "",
        "=== 明暗切换操作指南 ===",
        "",
        "【自动模式（默认）】",
        "• 所有设备默认启用自动模式",
        "• 页面会自动跟随系统主题变化（明/暗模式）",
        "• 重新进入页面时会自动重置为自动模式",
        "",
        "【桌面设备操作】",
        "• 左键点击主题按钮：切换明暗模式（退出自动模式）",
        "• 右键点击主题按钮：切换自动/手动模式",
        "",
        "【移动设备操作】",
        "• 点击主题按钮：切换明暗模式（退出自动模式）",
        "• 长按主题按钮（500毫秒）：切换自动/手动模式",
        "",
        "【操作提示】",
        "• 页面加载时会显示当前模式状态",
        "• 操作时会显示相应的提示信息",
        "• 提示信息3秒后自动消失，也可手动关闭"
      ]
    },
    {
      "version": "1.1.1",
      "build_date": "2025-09-25T00:00:00Z",
      "changelog": [
        "=== 优化改进 ===",
        "• 优化加载动画元素的显示效果，提高整体用户体验"
      ]
    },
    {
      "version": "1.1.0",
      "build_date": "2025-09-25T00:00:00Z",
      "changelog": [
        "=== 新增功能 ===",
        "• 新增缓存控制和更新提示功能",
        "",
        "=== 优化改进 ===",
        "• 优化手机端明暗切换按钮大小",
        "• 将下载进度条集成到遮罩中显示",
        "• 优化网页加载性能和用户体验",
        "",
        "=== 问题修复 ===",
        "• 修复手机端加载转圈动画速度不一致问题"
      ]
    },
    {
      "version": "1.0.0",
      "build_date": "2025-09-23T00:00:00Z",
      "changelog": [
        "=== 新增功能 ===",
        "• 初始版本发布",
        "• 支持抖音视频下载",
        "",
        "=== 基础功能 ===",
        "• 基础功能实现"
      ]
    }
  ]
}
